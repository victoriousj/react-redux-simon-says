{"version":3,"sources":["sounds/simonSound1.mp3","sounds/simonSound2.mp3","sounds/simonSound3.mp3","sounds/simonSound4.mp3","sounds/simonSound5.mp3","sounds/success.flac","resources.js","components/Button.js","helpers/index.js","components/Score.js","components/ControlButtons.js","components/Controls.js","actiontypes/control.js","actions/control.js","Container.js","reducers/control.js","index.js"],"names":["module","exports","__webpack_require__","p","sounds","firstSound","secondSound","thirdSound","fourthSound","fithSound","sixthSound","Button","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","registerButtonPress","assertThisInitialized","inputPause","isPlaying","buttonPress","index","setState","show","soundEffect","Audio","src","currentTime","play","setTimeout","state","color","buttonStyle","concat","overlayStyle","react_default","a","createElement","className","onClick","style","backgroundColor","Component","fetchRandomButtonIndex","Math","floor","random","delay","x","Promise","r","getNextColorScheme","buttonColors","length","colorScheme","parseScore","s","parseInt","score","hs","highScore","parsedScore","parsedHighScore","objectSpread","Score","CSSTransition","childContextTypes","transitionStyles","enterStyle","transform","transit","leaveStyle","activeStyle","ControlButtons","startGame","react_css_transition_lib","assign","active","changeColorScheme","Controls","components_Score","components_ControlButtons","protoTypes","PropTypes","string","isRequired","bool","func","number","GAME_END","GAME_START","HALT_INPUT","ALLOW_INPUT","BUTTON_PRESS","ADD_TO_PLAYBACK_SEQUENCE","GAME_CHANGE_COLOR_SCHEME","endGame","type","actionTypes","haltInput","allowInput","addToPlaybackSequence","buttonIndex","colorSchemeId","Container","showPlaybackSequence","asyncToGenerator","regenerator_default","mark","_callee","i","wrap","_context","prev","next","playbackSequence","refs","stop","dispatch","bindActionCreators","actionCreators","prevState","_this2","_this3","buttonComponents","map","buttonColor","Button_Button","key","ref","components_Controls","connect","hScore","currentButton","playerPlaybackSequence","initialState","store","createStore","Control","arguments","undefined","action","ControlActionTypes","toConsumableArray","newPlayerPlaybackSequence","volume","newPlaybackSequence","ReactDOM","render","es","src_Container","document","getElementById"],"mappings":"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","file":"static/js/main.8f99755b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/simonSound1.319c7710.mp3\";","module.exports = __webpack_public_path__ + \"static/media/simonSound2.c3c86e71.mp3\";","module.exports = __webpack_public_path__ + \"static/media/simonSound3.f3c18b98.mp3\";","module.exports = __webpack_public_path__ + \"static/media/simonSound4.f4a912ee.mp3\";","module.exports = __webpack_public_path__ + \"static/media/simonSound5.90caa9b2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/success.0d0e62da.flac\";","import firstSound from \"./sounds/simonSound1.mp3\";\r\nimport secondSound from \"./sounds/simonSound2.mp3\";\r\nimport thirdSound from \"./sounds/simonSound3.mp3\";\r\nimport fourthSound from \"./sounds/simonSound4.mp3\";\r\nimport fithSound from \"./sounds/simonSound5.mp3\";\r\nimport sixthSound from \"./sounds/success.flac\";\r\n\r\nexport const colorSchemes = [\r\n  [\"#e74c3c\", \"#f1c40f\", \"#2ecc71\", \"#9b59b6\"],\r\n  [\"#f0f\", \"#fff\", \"#f00\", \"#0ff\"],\r\n  [\"#2ecc71\", \"#9b59b6\", \"#fff\", \"#f0f\"]\r\n];\r\n\r\nexport const sounds = [\r\n  firstSound,\r\n  secondSound,\r\n  thirdSound,\r\n  fourthSound,\r\n  fithSound,\r\n  sixthSound\r\n];\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { sounds } from \"../resources\";\r\n\r\nexport default class Button extends Component {\r\n  static propTypes = {\r\n    index: PropTypes.number.isRequired,\r\n    color: PropTypes.string.isRequired,\r\n    isPlaying: PropTypes.bool.isRequired,\r\n    inputPause: PropTypes.bool.isRequired,\r\n    buttonPress: PropTypes.func.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { show: false };\r\n  }\r\n\r\n  registerButtonPress = () => {\r\n    const { props } = this;\r\n    if (!props.inputPause && props.isPlaying) {\r\n      this.buttonPress();\r\n      props.buttonPress(props.index);\r\n    }\r\n  };\r\n\r\n  buttonPress = () => {\r\n    this.setState({ show: true });\r\n\r\n    const soundEffect = new Audio();\r\n    soundEffect.src = sounds[this.props.index];\r\n    soundEffect.currentTime = 0.125;\r\n    soundEffect.play();\r\n\r\n    setTimeout(() => this.setState({ show: false }), 150);\r\n  };\r\n\r\n  render() {\r\n    const { props, state } = this;\r\n    const { color, inputPause } = props;\r\n    const { show } = state;\r\n\r\n    const buttonStyle = `button ${show && !inputPause ? \"shrink\" : \"\"}`;\r\n    const overlayStyle = `overlay ${show ? \"on\" : \"\"}`;\r\n\r\n    return (\r\n      <div\r\n        className={buttonStyle}\r\n        onClick={this.registerButtonPress}\r\n        style={{ backgroundColor: color }}\r\n      >\r\n        <div className={overlayStyle} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export const fetchRandomButtonIndex = () => Math.floor(Math.random() * 4);\r\n\r\nexport const delay = x => new Promise(r => setTimeout(r, x));\r\n\r\nexport const getNextColorScheme = state =>\r\n  state.buttonColors.length !== ++state.colorScheme ? state.colorScheme : 0;\r\n\r\nexport const parseScore = state => {\r\n  let s = parseInt(state.score);\r\n  let hs = parseInt(state.highScore);\r\n  const parsedScore = ++s < 10 ? `00${s}` : s < 99 ? `0${s}` : s;\r\n  const parsedHighScore = s > hs ? parsedScore : state.highScore;\r\n\r\n  return {\r\n    ...state,\r\n    score: parsedScore,\r\n    highScore: parsedHighScore\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Score = props => (\r\n  <div className=\"game-score\">\r\n    <span className={props.isPlaying ? \"game-light-on\" : \"game-light-off\"}>\r\n      {props.score}\r\n    </span>\r\n  </div>\r\n);\r\n\r\nScore.propTypes = {\r\n  score: PropTypes.string.isRequired,\r\n  isPlaying: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default Score;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CSSTransition, transit } from \"react-css-transition\";\r\n\r\nCSSTransition.childContextTypes = {};\r\nconst transitionStyles = {\r\n  enterStyle: { transform: transit(\"translate(52.5%)\", 100, \"ease-in-out\") },\r\n  leaveStyle: { transform: transit(\"translate(0)\", 100, \"ease-in-out\") },\r\n  activeStyle: { transform: \"translate(52.5%)\" }\r\n};\r\n\r\nconst ControlButtons = props => (\r\n  <div className=\"control-buttons\">\r\n    <div className={`game-light ${props.isPlaying ? \"game-light-on\" : \"\"}`} />\r\n    <div onClick={() => props.startGame()} className=\"game-switch\">\r\n      <CSSTransition {...transitionStyles} active={props.isPlaying}>\r\n        <div className=\"game-switch-toggle\" />\r\n      </CSSTransition>\r\n    </div>\r\n    <div\r\n      onClick={() => props.changeColorScheme()}\r\n      className={`game-reset ${!props.isPlaying ? \"game-light-off\" : \"\"}`}\r\n    />\r\n  </div>\r\n);\r\n\r\nControlButtons.propTypes = {\r\n  isPlaying: PropTypes.bool.isRequired,\r\n  startGame: PropTypes.func.isRequired,\r\n  changeColorScheme: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ControlButtons;\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nimport Score from \"./Score\";\r\nimport ControlButtons from \"./ControlButtons\";\r\n\r\nconst Controls = props => (\r\n  <div className=\"controls\">\r\n    <div className=\"game-name\">\r\n      <span className=\"name\">simon</span>\r\n      <span className=\"game-name-buffer\" />\r\n    </div>\r\n\r\n    <div className=\"game-controls\">\r\n      <Score score={props.score} isPlaying={props.isPlaying} />\r\n      <ControlButtons\r\n        isPlaying={props.isPlaying}\r\n        startGame={props.startGame}\r\n        changeColorScheme={props.changeColorScheme}\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nControls.protoTypes = {\r\n  score: PropTypes.string.isRequired,\r\n  isPlaying: PropTypes.bool.isRequired,\r\n  startGame: PropTypes.func.isRequired,\r\n  changeColorScheme: PropTypes.number.isRequired\r\n};\r\n\r\nexport default Controls;\r\n","export const GAME_END = \"GAME_END\";\r\nexport const GAME_START = \"GAME_START\";\r\nexport const HALT_INPUT = \"HALT_INPUT\";\r\nexport const ALLOW_INPUT = \"ALLOW_INPUT\";\r\nexport const BUTTON_PRESS = \"BUTTON_PRESS\";\r\nexport const ADD_TO_PLAYBACK_SEQUENCE = \"ADD_TO_PLAYBACK_SEQUENCE\";\r\nexport const GAME_CHANGE_COLOR_SCHEME = \"GAME_CHANGE_COLOR_SCHEME\";\r\n","import * as actionTypes from \"../actiontypes/control\";\r\n\r\nexport const endGame = () => ({ type: actionTypes.GAME_END });\r\n\r\nexport const startGame = () => ({ type: actionTypes.GAME_START });\r\n\r\nexport const haltInput = () => ({ type: actionTypes.HALT_INPUT });\r\n\r\nexport const allowInput = () => ({ type: actionTypes.ALLOW_INPUT });\r\n\r\nexport const addToPlaybackSequence = () => ({\r\n  type: actionTypes.ADD_TO_PLAYBACK_SEQUENCE\r\n});\r\n\r\nexport const buttonPress = buttonIndex => ({\r\n  type: actionTypes.BUTTON_PRESS,\r\n  buttonIndex\r\n});\r\n\r\nexport const changeColorScheme = colorSchemeId => ({\r\n  type: actionTypes.GAME_CHANGE_COLOR_SCHEME,\r\n  colorSchemeId\r\n});\r\n","import { bindActionCreators } from \"redux\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Button from \"./components/Button\";\r\nimport { delay } from \"./helpers\";\r\nimport Controls from \"./components/Controls\";\r\nimport * as actionCreators from \"./actions/control\";\r\n\r\nclass Container extends Component {\r\n  static propTypes = {\r\n    score: PropTypes.string.isRequired,\r\n    hScore: PropTypes.string.isRequired,\r\n    isPlaying: PropTypes.bool.isRequired,\r\n    inputPause: PropTypes.bool.isRequired,\r\n    colorScheme: PropTypes.number.isRequired,\r\n    buttonColors: PropTypes.array.isRequired,\r\n    playbackSequence: PropTypes.array.isRequired,\r\n    playerPlaybackSequence: PropTypes.array.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { dispatch } = props;\r\n\r\n    this.endGame = bindActionCreators(actionCreators.endGame, dispatch);\r\n    this.startGame = bindActionCreators(actionCreators.startGame, dispatch);\r\n    this.haltInput = bindActionCreators(actionCreators.haltInput, dispatch);\r\n    this.allowInput = bindActionCreators(actionCreators.allowInput, dispatch);\r\n    this.buttonPress = bindActionCreators(actionCreators.buttonPress, dispatch);\r\n    this.changeColorScheme = bindActionCreators(\r\n      actionCreators.changeColorScheme,\r\n      dispatch\r\n    );\r\n    this.addToPlaybackSequence = bindActionCreators(\r\n      actionCreators.addToPlaybackSequence,\r\n      dispatch\r\n    );\r\n  }\r\n\r\n  componentDidUpdate(prevState) {\r\n    if (\r\n      this.props.playbackSequence.length !== prevState.playbackSequence.length\r\n    ) {\r\n      setTimeout(() => {\r\n        this.showPlaybackSequence();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  showPlaybackSequence = () => {\r\n    const { props } = this;\r\n    (async () => {\r\n      this.haltInput();\r\n\r\n      for (let i = 0; i < props.playbackSequence.length; await delay(500)) {\r\n        let currentButton = this.refs[props.playbackSequence[i++]];\r\n        currentButton.buttonPress();\r\n      }\r\n\r\n      await this.allowInput();\r\n    })();\r\n  };\r\n\r\n  render() {\r\n    const { props } = this;\r\n    const { colorScheme, isPlaying, inputPause, buttonColors, score } = props;\r\n\r\n    const buttonComponents = buttonColors[colorScheme].map(\r\n      (buttonColor, index) => (\r\n        <Button\r\n          key={index}\r\n          ref={index}\r\n          index={index}\r\n          color={buttonColor}\r\n          isPlaying={isPlaying}\r\n          inputPause={inputPause}\r\n          buttonPress={this.buttonPress}\r\n        />\r\n      )\r\n    );\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"container\">\r\n          {buttonComponents}\r\n          <Controls\r\n            score={score}\r\n            isPlaying={isPlaying}\r\n            startGame={this.startGame}\r\n            changeColorScheme={this.changeColorScheme}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  score: state.score,\r\n  hScore: state.hScore,\r\n  isPlaying: state.isPlaying,\r\n  inputPause: state.inputPause,\r\n  colorScheme: state.colorScheme,\r\n  buttonColors: state.buttonColors,\r\n  currentButton: state.currentButton,\r\n  playbackSequence: state.playbackSequence,\r\n  playerPlaybackSequence: state.playerPlaybackSequence\r\n});\r\n\r\nexport default connect(mapStateToProps)(Container);\r\n","import * as ControlActionTypes from \"../actiontypes/control\";\r\nimport { sounds, colorSchemes } from \"../resources\";\r\nimport {\r\n  parseScore,\r\n  getNextColorScheme,\r\n  fetchRandomButtonIndex\r\n} from \"../helpers\";\r\n\r\nconst initialState = {\r\n  score: \"000\",\r\n  hScore: \"000\",\r\n  colorScheme: 0,\r\n  isPlaying: false,\r\n  inputPause: false,\r\n  currentButton: null,\r\n  playbackSequence: [],\r\n  playerPlaybackSequence: [],\r\n  buttonColors: colorSchemes\r\n};\r\n\r\nexport default function Control(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ControlActionTypes.GAME_END: {\r\n      return {\r\n        ...state,\r\n        score: \"000\",\r\n        isPlaying: false,\r\n        currentButton: null,\r\n        playbackSequence: [],\r\n        playerPlaybackSequence: []\r\n      };\r\n    }\r\n\r\n    case ControlActionTypes.GAME_START: {\r\n      const playbackSequence = [\r\n        ...state.playbackSequence,\r\n        fetchRandomButtonIndex()\r\n      ];\r\n\r\n      if (state.isPlaying) {\r\n        return Control(state, { type: ControlActionTypes.GAME_END });\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        isPlaying: true,\r\n        playbackSequence\r\n      };\r\n    }\r\n\r\n    case ControlActionTypes.ALLOW_INPUT: {\r\n      return {\r\n        ...state,\r\n        inputPause: false\r\n      };\r\n    }\r\n\r\n    case ControlActionTypes.HALT_INPUT: {\r\n      return {\r\n        ...state,\r\n        inputPause: true\r\n      };\r\n    }\r\n\r\n    case ControlActionTypes.BUTTON_PRESS: {\r\n      const newPlayerPlaybackSequence = [\r\n        ...state.playerPlaybackSequence,\r\n        action.buttonIndex\r\n      ];\r\n\r\n      // Start at the end of the array and work back\r\n      for (let i = newPlayerPlaybackSequence.length; i--; ) {\r\n        if (state.playbackSequence[i] !== newPlayerPlaybackSequence[i]) {\r\n          const soundEffect = new Audio();\r\n          soundEffect.src = sounds[4];\r\n          soundEffect.volume = 0.07;\r\n          soundEffect.play();\r\n\r\n          return Control(state, { type: ControlActionTypes.GAME_END });\r\n        }\r\n      }\r\n\r\n      if (state.playbackSequence.length !== newPlayerPlaybackSequence.length) {\r\n        return {\r\n          ...state,\r\n          playerPlaybackSequence: newPlayerPlaybackSequence\r\n        };\r\n      }\r\n\r\n      const soundEffect = new Audio();\r\n      soundEffect.volume = 0.6;\r\n      soundEffect.src = sounds[5];\r\n      setTimeout(() => soundEffect.play(), 200);\r\n\r\n      state = parseScore(state);\r\n\r\n      return Control(state, {\r\n        type: ControlActionTypes.ADD_TO_PLAYBACK_SEQUENCE\r\n      });\r\n    }\r\n\r\n    case ControlActionTypes.ADD_TO_PLAYBACK_SEQUENCE: {\r\n      const newPlaybackSequence = [\r\n        ...state.playbackSequence,\r\n        fetchRandomButtonIndex()\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        playerPlaybackSequence: [],\r\n        playbackSequence: newPlaybackSequence\r\n      };\r\n    }\r\n\r\n    case ControlActionTypes.GAME_CHANGE_COLOR_SCHEME: {\r\n      return {\r\n        ...state,\r\n        colorScheme: getNextColorScheme(state)\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import \"babel-polyfill\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Container from \"./Container\";\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport reducer from \"./reducers/control\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst store = createStore(reducer);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Container />\r\n  </Provider>,\r\n\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}