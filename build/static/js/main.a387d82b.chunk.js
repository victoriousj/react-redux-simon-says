(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n.p+"static/media/simonSound1.319c7710.mp3"},25:function(e,t,n){e.exports=n.p+"static/media/simonSound2.c3c86e71.mp3"},26:function(e,t,n){e.exports=n.p+"static/media/simonSound3.f3c18b98.mp3"},27:function(e,t,n){e.exports=n.p+"static/media/simonSound4.f4a912ee.mp3"},28:function(e,t,n){e.exports=n.p+"static/media/simonSound5.90caa9b2.mp3"},29:function(e,t,n){e.exports=n.p+"static/media/success.0d0e62da.flac"},31:function(e,t,n){e.exports=n(46)},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(19),s=n.n(r),o=n(15),i=n.n(o),u=n(20),l=n(5),p=n(6),m=n(9),b=n(7),h=n(8),y=n(3),f=n(2),g=n(11),S=n(24),d=n.n(S),P=n(25),O=n.n(P),v=n(26),j=n.n(v),E=n(27),k=n.n(E),w=n(28),N=n.n(w),q=n(29),C=n.n(q),_=[d.a,O.a,j.a,k.a,N.a,C.a],T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(b.a)(t).call(this,e))).state={show:!1},n.buttonPress=n.buttonPress.bind(Object(y.a)(Object(y.a)(n))),n.registerButtonPress=n.registerButtonPress.bind(Object(y.a)(Object(y.a)(n))),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"buttonPress",value:function(){var e=this;this.setState({show:!0});var t=new Audio(_[this.props.index]);t.currentTime=.125,t.play(),setTimeout(function(){return e.setState({show:!1})},150)}},{key:"registerButtonPress",value:function(){!this.props.inputPause&&this.props.isPlaying&&(this.buttonPress(),this.props.buttonPress(this.props.index))}},{key:"render",value:function(){return c.a.createElement("div",{onClick:this.registerButtonPress,style:{backgroundColor:this.props.color},className:"button"},c.a.createElement("div",{className:"button-overlay ".concat(this.state.show?"button-overlay-on":""," ").concat(this.props.isPlaying?"game-on":"")}))}}]),t}(a.Component),x=n(4),A=function(){return Math.floor(4*Math.random())},I=function(e){return++e.colorScheme!==e.buttonColors.length?e.colorScheme:0},B=function(e){return new Promise(function(t){setTimeout(t,e)})},G=function(e){var t=parseInt(e.score),n=parseInt(e.highScore),a=++t<10?"00"+t:t<99?"0"+t:t.toString(),c=t>n?a:e.highScore;return Object(x.a)({},e,{score:a,highScore:c})},D=function(e){return c.a.createElement("div",{className:"game-score"},c.a.createElement("span",{className:e.isPlaying?"game-light-on":"game-light-off"},e.score))},L=n(10);L.a.childContextTypes={};var U={enterStyle:{transform:Object(L.b)("translate(52.5%)",100,"ease-in-out")},leaveStyle:{transform:Object(L.b)("translate(0)",100,"ease-in-out")},activeStyle:{transform:"translate(52.5%)"}},M=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"control-buttons"},c.a.createElement("div",{className:"game-light ".concat(this.props.isPlaying?"game-light-on":"")}),c.a.createElement("div",{onClick:function(){return e.props.startGame()},className:"game-switch"},c.a.createElement(L.a,Object.assign({},U,{active:this.props.isPlaying}),c.a.createElement("div",{className:"game-switch-toggle"}))),c.a.createElement("div",{onClick:function(){return e.props.changeColorScheme()},className:"game-reset ".concat(this.props.isPlaying?"":"game-light-off")}))}}]),t}(a.Component),R=function(e){return c.a.createElement("div",{className:"controls"},c.a.createElement("div",{className:"game-name"},c.a.createElement("span",{className:"name"},"simon"),c.a.createElement("span",{className:"game-name-buffer"})),c.a.createElement("div",{className:"game-controls"},c.a.createElement(D,{score:e.score,isPlaying:e.isPlaying}),c.a.createElement(M,{isPlaying:e.isPlaying,startGame:e.startGame,changeColorScheme:e.changeColorScheme})))},X="GAME_END",H="GAME_START",J="HALT_INPUT",V="ALLOW_INPUT",K="BUTTON_PRESS",Q="ADD_TO_PLAYBACK_SEQUENCE",W="GAME_CHANGE_COLOR_SCHEME",Y=function(){return{type:X}},z=function(){return{type:H}},F=function(){return{type:J}},Z=function(){return{type:V}},$=function(){return{type:Q}},ee=function(e){return{type:K,buttonIndex:e}},te=function(e){return{type:W,colorSchemeId:e}},ne=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(m.a)(this,Object(b.a)(t).call(this,e));var a=e.dispatch;return n.endGame=Object(f.a)(Y,a),n.startGame=Object(f.a)(z,a),n.haltInput=Object(f.a)(F,a),n.allowInput=Object(f.a)(Z,a),n.buttonPress=Object(f.a)(ee,a),n.changeColorScheme=Object(f.a)(te,a),n.addToPlaybackSequence=Object(f.a)($,a),n.showPlaybackSequence=n.showPlaybackSequence.bind(Object(y.a)(Object(y.a)(n))),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.playbackSequence.length!==e.playbackSequence.length&&!0===this.props.isPlaying&&setTimeout(function(){t.showPlaybackSequence()},1e3)}},{key:"showPlaybackSequence",value:function(){var e=this,t=this.props.playbackSequence,n=this.refs;(function(){var a=Object(u.a)(i.a.mark(function a(){var c;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.haltInput(),c=0;case 2:if(!(c<t.length)){a.next=8;break}return n[t[c++]].buttonPress(),a.next=6,B(500);case 6:a.next=2;break;case 8:return a.next=10,e.allowInput();case 10:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}})()()}},{key:"render",value:function(){var e=this,t=this.props.buttonColors[this.props.colorScheme].map(function(t,n){return c.a.createElement(T,{key:n,ref:n,index:n,color:t,isPlaying:e.props.isPlaying,inputPause:e.props.inputPause,buttonPress:e.buttonPress})});return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},t,c.a.createElement(R,{score:this.props.score,startGame:this.startGame,isPlaying:this.props.isPlaying,changeColorScheme:this.changeColorScheme})))}}]),t}(a.Component),ae=Object(g.b)(function(e){return{score:e.score,hScore:e.hScore,isPlaying:e.isPlaying,inputPause:e.inputPause,colorScheme:e.colorScheme,buttonColors:e.buttonColors,currentButton:e.currentButton,playbackSequence:e.playbackSequence,playerPlaybackSequence:e.playerPlaybackSequence}})(ne),ce=n(13),re={score:"000",hScore:"000",colorScheme:0,isPlaying:!1,inputPause:!1,currentButton:null,playbackSequence:[],playerPlaybackSequence:[],buttonColors:[["#e74c3c","#f1c40f","#2ecc71","#9b59b6"],["#f0f","#fff","#f00","#0ff"],["#2ecc71","#9b59b6","#fff","#f0f"]]};n(44);var se=Object(f.b)(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case X:return Object(x.a)({},t,{score:"000",isPlaying:!1,currentButton:null,playbackSequence:[],playerPlaybackSequence:[]});case H:var a=Object(ce.a)(t.playbackSequence).concat([A()]);return t.isPlaying?e(t,{type:X}):Object(x.a)({},t,{isPlaying:!0,playbackSequence:a});case V:return Object(x.a)({},t,{inputPause:!1});case J:return Object(x.a)({},t,{inputPause:!0});case K:for(var c=Object(ce.a)(t.playerPlaybackSequence).concat([n.buttonIndex]),r=c.length;r--;)if(t.playbackSequence[r]!==c[r]){var s=new Audio(_[4]);return s.volume=.07,s.play(),e(t,{type:X})}if(t.playbackSequence.length!==c.length)return Object(x.a)({},t,{playerPlaybackSequence:c});var o=new Audio(_[5]);return o.volume=.3,setTimeout(function(){o.play()},300),e(t=G(t),{type:Q});case Q:var i=Object(ce.a)(t.playbackSequence).concat([A()]);return Object(x.a)({},t,{playerPlaybackSequence:[],playbackSequence:i});case W:var u=I(t);return Object(x.a)({},t,{colorScheme:u});default:return t}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(c.a.createElement(g.a,{store:se},c.a.createElement(ae,null)),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.a387d82b.chunk.js.map